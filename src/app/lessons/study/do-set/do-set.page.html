
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
</head>



<ion-content *ngIf="!finished">

  <div class='backgroundimage'>
    <ion-toolbar>
        <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
        </ion-buttons>
      <ion-title>
      </ion-title>
    </ion-toolbar>
<img class='wave'  src="/assets/images/background.svg"/>

  </div>
<ion-list>

  <div class="flip" lines="none" *ngFor="let card of flipcardset">


<!--
    <ion-card *ngIf="card.flipcardID === showid && showside === 0" class='animated bounceInRight'>

        <ion-card-header *ngIf="card.image === ''">
          <img class='imgstandard'  src="assets/images/flipcard_background.jpg" (click)="changeshowside($event)"/>
          <ion-card-title *ngIf="card.image === ''" (click)="changeshowside($event)"> {{ card.Question }}</ion-card-title>
        </ion-card-header>
        <ion-card-header *ngIf="card.image != ''" >
          <img class = 'imgindiv' *ngIf="card.image != ''" [src]="'https://www.e-fluent.com/media/' + card.image" (click)="changeshowside($event)"/>
          <h4 *ngIf="card.image != ''" (click)="changeshowside($event)"> {{ card.Question }}</h4>
        </ion-card-header>
        <ion-card-content>
          <ion-list>
                <ion-item *ngFor="let answer of card.Alt_Answers">
                  <ion-label class='answ' (click)="checkanswer(answer, $event, card.Answers)">
                    <h2 ticked='nein'>{{answer}}</h2>
                  </ion-label>
                </ion-item>
              </ion-list>
            </ion-card-content>
          </ion-card>
          <pattern id="image" x="0" y="0" patternUnits="objectBoundingBox" height="1" width="1">
          <image x="0" y="0" width="600" xlink:href="https://www.e-fluent.com/media/images/flipcards/san-francisco-210230_960_720_H5WVRcO.jpg"></image>
        </pattern>

        -->
            <div class="animated bounceInRight" *ngIf="card.flipcardID === showid">
          <div *ngIf="card.multiplechoice_possible == 1 && card.entry_possible == 1 && this.random == true; else timer1" id="timer" style="color:white;">{{timer2}}</div>
        <ng-template #timer1><div id="timer" style="color:white;">{{timer}}</div></ng-template>
        </div>

  <div class="animated bounceInRight wrapper" *ngIf="card.flipcardID === showid && showside === 0" >

    <svg [ngClass]="'level'+ card.Status" id="card_{{card.flipcardID}}" (click)="changeshowside($event)" width="100%" height="100%" version="1.1" viewBox="0 0 875.37 662.23" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

      <pattern *ngIf="card.image == ''" id="image{{card.flipcardID}}" x="0" y="0" patternUnits="objectBoundingBox" height="1" width="1">

      <image   x="0" y="0" width="600" xlink:href="https://www.e-fluent.com/media/images/user_10/flipcard_background.jpg"></image>
    </pattern>

    <pattern *ngIf="card.image != ''" id="image{{card.flipcardID}}" x="0" y="0" patternUnits="objectBoundingBox" height="1" width="1">

      <image   x="0" y="0" width="600" [attr.xlink:href]="'https://www.e-fluent.com/media/' + card.image"></image>
  </pattern>

           <g transform="translate(1.8439 -3.3629)">

            <path x="-1.8438932" y="3.3629329" width="875.28021" height="658.43988" rx="42.230354" ry="46.564548" d="m40.386 3.3629h790.82c23.396 0 42.23 20.768 42.23 46.565v565.31c0 25.797-18.835 46.565-42.23 46.565h-790.82c-23.396 0-42.23-20.768-42.23-46.565v-565.31c0-25.797 18.835-46.565 42.23-46.565z" fill="#14a2af" opacity=".699" stroke="#4d4d4d" stroke-width="2.2774"/>
            <path id="water" d="" fill="#72d6e1" stroke-width="1.3863"/>
              <text transform="scale(1.0093 .9908)" x="825.42889" y="579.16003" font-size="27.709px" letter-spacing="0px" stroke-width="2.3091" text-align="center" text-anchor="middle" word-spacing="0px" xml:space="preserve">
                <tspan x="439.93542" y="529.16003" fill="#ffffff" font-family="Arial" font-size="60px" stroke-width="2.3091" text-align="center" text-anchor="middle" style="line-height:1.25" >{{ card.Question | slice:0:26 }}</tspan>
                <tspan x="439.93542" y="559.16003" fill="#ffffff" font-family="Arial" font-size="60px" stroke-width="2.3091" text-align="center" text-anchor="middle" style="line-height:1.25" dy="30">{{ card.Question | slice:26:52}}</tspan>
                <tspan x="439.93542" y="579.16003" fill="#ffffff" font-family="Arial" font-size="60px" stroke-width="2.3091" text-align="center" text-anchor="middle" style="line-height:1.25" dy="80">{{ card.Question | slice:52}}</tspan>
              </text>

            <ellipse cx="435.8" cy="246.2" rx="199.78" ry="196.61"  [attr.fill]="'url(#image' + card.flipcardID + ')'" fill-opacity=".85"/>
           </g>
          </svg>

          <div *ngIf="card.multiplechoice_possible == 1 && card.entry_possible == 0" class="answerlist">

                  <div class='answ' ticked='nein' *ngFor="let answer of card.Alt_Answers" (click)="checkanswer(answer, $event, card.Answers)">

                  {{answer}}

                </div>

          </div>

          <div *ngIf="card.multiplechoice_possible == 0 && card.entry_possible == 1" class="answerlist">
  <input class="field" autocapitalize="off" type="text" #input id="input_{{card.flipcardID}}" (keyup)="checkanswerinput(input.value, $event, card.Answers)">

          </div>
          <div *ngIf="card.multiplechoice_possible == 1 && card.entry_possible == 1" class="answerlist">
              <div *ngIf="random" class="answerinput">
                <input class="field" type="text" #input id="input_{{card.flipcardID}}" (keyup)="checkanswerinput(input.value, $event, card.Answers)">
                </div>
                  <div *ngIf="!random" class="answerchoice">
                <div  class='answ' ticked='nein' *ngFor="let answer of card.Alt_Answers" (click)="checkanswer(answer, $event, card.Answers)">
                {{answer}}

              </div>
                </div>
          </div>
</div>

<!--


          <ion-card *ngIf="card.flipcardID === showid && showside === 1" class='animated flipInY' (click)="submitanswer(card.ProgressID, card.Status, $event)" >
              <ion-card-header *ngIf="card.image === ''">
                <img class='imgstandard'  src="assets/images/flipcard_background.jpg"/>
                <ion-card-title *ngIf="card.image === ''"> {{ card.Question }}</ion-card-title>
              </ion-card-header>
              <ion-card-header *ngIf="card.image != ''">
                <img class = 'imgindiv' *ngIf="card.image != ''" [src]="'https://www.e-fluent.com/media/' + card.image"/>
                <ion-card-title *ngIf="card.image === ''"> {{ card.Question }}</ion-card-title>
                <h4 *ngIf="card.image != ''"> {{ card.Question }}</h4>
              </ion-card-header>
                  <ion-card-content>

                    <ion-list>
                      <ion-item *ngFor="let answer of card.Answers">
                        <ion-label class='answ' >
                          <h2>{{answer}}</h2>
                        </ion-label>
                      </ion-item>
                    </ion-list>
                    <div align="right">
                    </div>
                  </ion-card-content>
       </ion-card> -->


              <div class="animated flipInY wrapper" *ngIf="card.flipcardID === showid && showside === 1">
                <svg [ngClass]="'level'+ card.Status" id="card_{{card.flipcardID}}"  (click)="submitanswer(card.ProgressID, card.Status, $event)" width="100%" height="100%" version="1.1" viewBox="0 0 875.37 662.23" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <pattern *ngIf="card.image == ''" id="image{{card.flipcardID}}" x="0" y="0" patternUnits="objectBoundingBox" height="1" width="1">

                  <image   x="0" y="0" width="600" xlink:href="https://www.e-fluent.com/media/images/user_10/flipcard_background.jpg"></image>
                </pattern>

                <pattern *ngIf="card.image != ''" id="image{{card.flipcardID}}" x="0" y="0" patternUnits="objectBoundingBox" height="1" width="1">

                  <image   x="0" y="0" width="600" [attr.xlink:href]="'https://www.e-fluent.com/media/' + card.image"></image>
              </pattern>
                 <g transform="translate(1.8439 -3.3629)">

                  <path x="-1.8438932" y="3.3629329" width="875.28021" height="658.43988" rx="42.230354" ry="46.564548" d="m40.386 3.3629h790.82c23.396 0 42.23 20.768 42.23 46.565v565.31c0 25.797-18.835 46.565-42.23 46.565h-790.82c-23.396 0-42.23-20.768-42.23-46.565v-565.31c0-25.797 18.835-46.565 42.23-46.565z" fill="#14a2af" opacity=".699" stroke="#4d4d4d" stroke-width="2.2774"/>
                  <path  *ngIf="iscorrect"  id="rise" d="" fill="#72d6e1" stroke-width="1.3863"/>
                  <path  *ngIf="!iscorrect" id="drop" d="" fill="#72d6e1" stroke-width="1.3863"/>
                  <text transform="scale(1.0093 .9908)" x="825.42889" y="579.16003" font-size="27.709px" letter-spacing="0px" stroke-width="2.3091" text-align="center" text-anchor="middle" word-spacing="0px" xml:space="preserve">
                    <tspan x="439.93542" y="529.16003" fill="#ffffff" font-family="Arial" font-size="60px" stroke-width="2.3091" text-align="center" text-anchor="middle" style="line-height:1.25" >{{ card.Question | slice:0:26 }}</tspan>
                    <tspan x="439.93542" y="559.16003" fill="#ffffff" font-family="Arial" font-size="60px" stroke-width="2.3091" text-align="center" text-anchor="middle" style="line-height:1.25" dy="30">{{ card.Question | slice:26:52}}</tspan>
                    <tspan x="439.93542" y="579.16003" fill="#ffffff" font-family="Arial" font-size="60px" stroke-width="2.3091" text-align="center" text-anchor="middle" style="line-height:1.25" dy="80">{{ card.Question | slice:52}}</tspan>
                  </text>

            <ellipse cx="435.8" cy="246.2" rx="199.78" ry="196.61"  [attr.fill]="'url(#image' + card.flipcardID + ')'" fill-opacity=".85"/>
                 </g>
                </svg>



                <div class="answerlist" *ngIf="iscorrect" id="aaa">

                        <div class='answcorrect' *ngFor="let answer of card.Answers">

                        {{answer}}

      </div>

                </div>
                <div class="answerlist" *ngIf="!iscorrect">

                        <div *ngFor="let answer of card.Answers">

                          <div class='answcorrect' *ngIf="empList.includes(answer)">

                         {{answer}}

        </div>
                <div class='answ' *ngIf="!empList.includes(answer)">

               {{answer}}

        </div>
      </div>

                </div>

                  </div>

  </div>


</ion-list>

</ion-content>

<ion-content *ngIf="finished" id="finished" >
  <div class='backgroundimage2'>
<img class='wave'  src="/assets/images/background.svg"/>

  </div>
 <div class='congrats'>
  <h1>Congrats!</h1>
  <h2>You finished the unit!</h2>

</div>
</ion-content>
